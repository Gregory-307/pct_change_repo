2025-01-29 20:15:49,840 - INFO - Processing data with:
2025-01-29 20:15:49,840 - INFO - - Start date: 2014-08-01 00:00:00
2025-01-29 20:15:49,840 - INFO - - Prediction horizon: 10 days
2025-01-29 20:15:49,840 - INFO - - Train end: 2017-12-29 00:00:00
2025-01-29 20:15:49,840 - INFO - - Val end: 2018-12-28 00:00:00
2025-01-29 20:15:49,840 - INFO - - Enabled features: 325
2025-01-29 20:15:49,840 - INFO - 
Loading raw data...
2025-01-29 20:16:06,384 - INFO - 
Cleaning data...
2025-01-29 20:16:06,384 - INFO - Initial data shape: (11512867, 13)
2025-01-29 20:16:07,004 - INFO - Shape after removing missing company names: (11512867, 13)
2025-01-29 20:16:09,975 - INFO - Shape after removing days with < 8 stocks: (11460947, 13)
2025-01-29 20:16:09,976 - INFO - 
Pivoting data...
2025-01-29 20:16:09,976 - INFO - Pivoting data to wide format...
2025-01-29 20:16:21,015 - INFO - Pivoted data shape: (24283, 476)
2025-01-29 20:16:24,615 - INFO - 
Selecting best exchange for each stock...
2025-01-29 20:16:24,615 - INFO - Handling multiple exchange listings...
2025-01-29 20:16:24,615 - INFO - Initial shape: (24283, 476)
2025-01-29 20:16:24,730 - INFO - Shape after selecting best exchange per stock: (19943, 476)
2025-01-29 20:16:24,730 - INFO - Checking for extreme price changes...
2025-01-29 20:16:24,765 - WARNING - Found 7 extreme price changes (>100% up or >50% down in a day)
2025-01-29 20:16:24,765 - WARNING - Example extreme changes:
2025-01-29 20:16:24,769 - WARNING - Network Capital Group Holding A/S: 2015-03-18 - Price change: -58.7% (1.79 -> 0.74)
2025-01-29 20:16:24,774 - WARNING - Network Capital Group Holding A/S: 2017-05-04 - Price change: -53.5% (0.13 -> 0.06)
2025-01-29 20:16:24,776 - WARNING - Nuevolution AB (publ): 2019-05-22 - Price change: 166.1% (12.10 -> 32.20)
2025-01-29 20:16:24,778 - WARNING - Conferize A/S: 2019-06-11 - Price change: -62.7% (4.45 -> 1.66)
2025-01-29 20:16:24,779 - WARNING - Conferize A/S: 2019-06-14 - Price change: 118.3% (1.26 -> 2.75)
2025-01-29 20:16:24,784 - INFO - 
Selecting features...
2025-01-29 20:16:24,785 - INFO - Selecting features...
2025-01-29 20:16:24,785 - INFO - Using 325 out of 325 enabled features
2025-01-29 20:16:24,795 - INFO - 
Calculating target...
2025-01-29 20:16:24,795 - INFO - Calculating 10-day forward returns...
2025-01-29 20:16:25,059 - INFO - Missing target values: 169 (0.8%)
2025-01-29 20:16:27,388 - INFO - 
Splitting data...
2025-01-29 20:16:27,388 - INFO - Splitting data...
2025-01-29 20:16:27,407 - INFO - Train: 10,639 rows (2014-08-01 00:00:00 to 2017-12-29 00:00:00)
2025-01-29 20:16:27,412 - INFO - Val: 4,142 rows (2018-01-02 00:00:00 to 2018-12-28 00:00:00)
2025-01-29 20:16:27,413 - INFO - Test: 4,803 rows (2019-01-02 00:00:00 to 2019-12-11 00:00:00)
2025-01-29 20:16:27,413 - INFO - Validating features for train dataset...
2025-01-29 20:16:27,413 - INFO - Validating features for val dataset...
2025-01-29 20:16:27,413 - INFO - Validating features for test dataset...
2025-01-29 20:16:27,414 - INFO - 
Saving datasets...
2025-01-29 20:16:28,775 - INFO - Saved train data with shape (10639, 332) to data\processed\train.csv
2025-01-29 20:16:29,283 - INFO - Saved val data with shape (4142, 332) to data\processed\val.csv
2025-01-29 20:16:29,835 - INFO - Saved test data with shape (4803, 332) to data\processed\test.csv
2025-01-29 20:16:29,835 - INFO - 
Running data analysis...
2025-01-29 20:16:29,835 - INFO - Created plots directory at results\plots\data
2025-01-29 20:16:29,835 - INFO - Created JSON directory at results\jsons\data
2025-01-29 20:16:29,835 - INFO - Running data analysis...
2025-01-29 20:16:29,835 - INFO - Plotting stock coverage...
2025-01-29 20:16:30,259 - INFO - Saved plot to results\plots\data\stock_coverage.png
2025-01-29 20:16:30,259 - INFO - Plotting feature coverage...
2025-01-29 20:16:30,568 - INFO - Saved plot to results\plots\data\feature_coverage.png
2025-01-29 20:16:30,568 - INFO - Plotting price trends...
2025-01-29 20:16:30,815 - INFO - Saved plot to results\plots\data\price_trends.png
2025-01-29 20:16:30,815 - INFO - Plotting feature coverage...
2025-01-29 20:16:31,104 - INFO - Saved plot to results\plots\data\feature_coverage.png
2025-01-29 20:16:31,104 - INFO - Plotting split coverage...
2025-01-29 20:16:31,376 - INFO - Saved plot to results\plots\data\split_coverage.png
2025-01-29 20:16:31,376 - INFO - Plotting target distribution...
2025-01-29 20:16:31,742 - INFO - Saved plot to results\plots\data\target_distribution.png
2025-01-29 20:16:31,745 - INFO - Data analysis complete
2025-01-29 20:16:31,745 - INFO - 
Processing complete!
